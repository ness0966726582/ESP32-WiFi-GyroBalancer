# ğŸš ESP32 ESP32-WiFi-GyroBalancer Project

ç”¨ ESP32 æ‰“é€ ä¸€å¥—åˆ†éšæ®µçš„å››è»¸é£›è¡Œå™¨å¯¦é©—å¹³å°ï¼Œå¾é¦¬é”æ§åˆ¶åˆ°å§¿æ…‹ç©©å®šï¼Œé€æ­¥å¯¦ç¾è‡ªè£½é£›æ§ï¼

---

## ğŸ“¦ å°ˆæ¡ˆç›®éŒ„çµæ§‹

```
esp32-drone-stabilization/
â”œâ”€â”€ phase1_motor_test/
â”‚   â””â”€â”€ motor_pwm_test.ino        # å››é¦¬é” PWM æ¸¬è©¦ç¨‹å¼
â”œâ”€â”€ phase2_imu_reading/
â”‚   â””â”€â”€ imu_mpu6050_read.ino      # MPU6050 è®€å–è§’åº¦èˆ‡åŠ é€Ÿåº¦
â”œâ”€â”€ phase3_pid_control/
â”‚   â””â”€â”€ pid_stabilizer.ino        # PID è¨ˆç®— + è¼¸å‡ºé¦¬é”è£œå„Ÿå€¼
â”œâ”€â”€ phase4_hover_test/
â”‚   â””â”€â”€ auto_hover.ino            # è‡ªå‹•æ‡¸åœå¯¦é©—ç¨‹å¼ï¼ˆé€²éšï¼‰
â”œâ”€â”€ phase5_network_control/
â”‚   â””â”€â”€ web_socket_control.ino    # ä½¿ç”¨ WebSocket é€é Wi-Fi æ§åˆ¶é£›è¡Œï¼ˆå¾…å¯¦ä½œï¼‰
â”œâ”€â”€ ue5_simulation/
â”‚   â””â”€â”€ (é ç•™) unreal_flight_sim.cpp  # Unreal Engine æ¨¡æ“¬é£›è¡Œè³‡æ–™æ¥æ”¶å™¨
â”œâ”€â”€ hardware/
â”‚   â””â”€â”€ wiring_diagram.png        # æ¥ç·šåœ–ï¼ˆå»ºè­°ç”¨ Fritzing ç•«ï¼‰
â””â”€â”€ README.md
```

---

## ğŸ§ª éšæ®µç›®æ¨™

### Phase 1: é¦¬é”å•Ÿå‹•æ¸¬è©¦
- âœ… æ§åˆ¶å››å€‹ ESC + ç„¡åˆ·é¦¬é”è½‰å‹•
- âœ… ç¢ºèª ESC æ ¡æ­£ç„¡èª¤
- âœ… PWM è¼¸å‡ºç©©å®šï¼Œè½‰é€Ÿå‡å‹»

### Phase 2: å§¿æ…‹è³‡æ–™è®€å–
- âœ… ç”¨ MPU6050 æ“·å– Pitch / Roll / Yaw
- âœ… ä¸²æ¥ I2C Multiplexerï¼ˆTCA9548Aï¼‰
- âœ… æ¯æ¬¡ loop å°å‡ºæ¯é¡†æ„Ÿæ¸¬å™¨æ•¸å€¼

### Phase 3: PID å§¿æ…‹æ§åˆ¶
- âœ… æ’°å¯« PID æ§åˆ¶å™¨
- âœ… å°‡å‚¾æ–œè£œå„Ÿè½‰æˆé¦¬é”è¼¸å‡ºä¿®æ­£å€¼
- âœ… ç·´ç¿’ Hover æ¨¡æ“¬ï¼ˆæ¡Œä¸ŠåŸåœ°è½‰ï¼‰

### Phase 4: è‡ªå‹•æ‡¸åœ
- âœ… æ•´åˆæ„Ÿæ¸¬å™¨ + PID + è¼¸å‡º
- âœ… å¾®èª¿ PID åƒæ•¸
- âœ… å˜—è©¦çŸ­æ™‚é–“å…§æ‡¸åœ 5ï½10 ç§’

### Phase 5: WebSocket æ§åˆ¶ï¼ˆWi-Fi æ¨¡å¼ï¼‰
- ğŸŒ å»ºç«‹ ESP32 WebSocket Server
- ğŸŒ å¾æ‰‹æ©Ÿã€ç¶²é æˆ– UE5 å‚³é€æ§åˆ¶æŒ‡ä»¤ï¼ˆæ¨åŠ›ã€è§’åº¦ï¼‰
- ğŸŒ ESP32 æ¥æ”¶æŒ‡ä»¤ä¸¦è½‰ç‚ºå§¿æ…‹ç›®æ¨™ï¼Œäº¤ç”± PID æ§åˆ¶è¼¸å‡º

### Phase 6 (é ç•™): Unreal Engine æ¨¡æ“¬é£›è¡Œ
- ğŸ•¹ï¸ é€é WebSocket æ¥æ”¶ ESP32 å‚³ä¾†çš„å§¿æ…‹è³‡æ–™
- ğŸ•¹ï¸ ä½¿ç”¨ UE5 Blueprint æˆ– C++ æ§åˆ¶è™›æ“¬é£›è¡Œå™¨æ¨¡å‹
- ğŸ•¹ï¸ çµåˆå¯¦é«”æ•¸æ“šèˆ‡è™›æ“¬æ¨¡æ“¬ï¼Œé€²è¡Œé£›è¡Œè¨“ç·´èˆ‡å±•ç¤º

---

## ğŸ”Œ ç¡¬é«”éœ€æ±‚

| åç¨± | æ•¸é‡ | å‚™è¨» |
|------|------|------|
| ESP32 DevKit | 1 | æ§åˆ¶ä¸»æ©Ÿ |
| BLDC ç„¡åˆ·é¦¬é” | 4 | å»ºè­° 2300KV ç´šè· |
| ESC é›»èª¿ | 4 | æ”¯æ´ PWM æ§åˆ¶ |
| MPU6050 | 4 | å»ºè­°ç”¨ I2C å¤šå·¥å™¨æ•´åˆ |
| TCA9548A | 1 | I2C multiplexer æ¨¡çµ„ |
| èºæ—‹æ§³ | 4 | CW/CCW å„å…©ç‰‡ |
| é‹°é›»æ±  3S | 1 | å»ºè­° â‰¥1500mAh |
| æœé‚¦ç·šã€éºµåŒ…æ¿ | å¤šæ¢ | å»ºè­°é¡è‰²å€åˆ†æ¸…æ¥š |

---

## ğŸª› ç¡¬é«”æ¥ç·šèªªæ˜

### ESP32 åˆ° TCA9548A æ¥ç·š

| ESP32 | TCA9548A | èªªæ˜ |
|--------|-----------|------|
| 3.3V   | VCC       | I2C é›»æº |
| GND    | GND       | å…±åœ° |
| GPIO21 | SDA       | I2C è³‡æ–™ç·š |
| GPIO22 | SCL       | I2C æ™‚è„ˆç·š |

### TCA9548A åˆ° MPU6050ï¼ˆé€šé“ 0~3ï¼‰

| TCA9548A Port | MPU6050 | ä½å€ |
|---------------|----------|------|
| Channel 0     | MPU1     | 0x68ï¼ˆAD0 æ¥ GNDï¼‰|
| Channel 1     | MPU2     | 0x68ï¼ˆAD0 æ¥ GNDï¼‰|
| Channel 2     | MPU3     | 0x68ï¼ˆAD0 æ¥ GNDï¼‰|
| Channel 3     | MPU4     | 0x68ï¼ˆAD0 æ¥ GNDï¼‰|

### ESP32 PWM è¼¸å‡ºæ§åˆ¶ ESC

| ESP32 GPIO | æ¥ ESC | åŠŸèƒ½ |
|------------|--------|------|
| GPIO13     | ESC1   | å‰å·¦é¦¬é” PWM |
| GPIO14     | ESC2   | å‰å³é¦¬é” PWM |
| GPIO25     | ESC3   | å¾Œå·¦é¦¬é” PWM |
| GPIO26     | ESC4   | å¾Œå³é¦¬é” PWM |

> ESC çš„é›»æºç”±é‹°é›»æ± ç›´æ¥ä¾›æ‡‰ï¼Œè«‹å…±åœ°è‡³ ESP32ã€‚

---

## ğŸ“˜ å¦‚ä½•é–‹å§‹

```bash
git clone https://github.com/your-username/esp32-drone-stabilization.git
cd esp32-drone-stabilization/phase1_motor_test
open motor_pwm_test.ino
```

---

## ğŸ“‹ æˆæ¬Š

MIT License
